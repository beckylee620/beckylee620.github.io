<!DOCTYPE html>
<html>
    <head>
        <title>Wesley Crusher Sweaters for All</title>
    </head>
    
    <body>
        <div id="header">Wesley Crusher Sweaters for All</div>
        
        <div style="width:60%;display:inline-block;vertical-align:text-top;padding:1.2%">
        <p>INSTRUCTIONS</p>
        <p>all measurements can be entered as whole numbers or as decimals (fractions will not work). do not round your measurements, and take all of your measurements in inches. for sweater measurements, it's best to measure a sweater that fits well, rather than entering body measurements. doing a <a href="http://ysolda.com/blog/2014/6/5/swift-swatching-in-the-round" target="_blank">swift swatch in the round</a> will give you the most accurate gauge.</p>
        <p>
            <ol>
                <li>knit a 20-stitch x 20-row swatch with the light gray yarn and the needles you plan to use for your sweater</li>
                <li>measure a 10-stitch span of the swatch (laid flat); enter its width into the appropriate box</li>
                <li>measure a 10-row span of the swatch (laid flat); enter its length into the appropriate box</li>
                <li>measure the width (not circumference) of the sweater body and enter it into the appropriate box</li>
                <li>measure the length of the sweater body from collar to waistband (inclusive) and enter it into the appropriate box</li>
                <li>measure the width (not circumference) of one sleeve near the armpit and enter that into the appropriate box</li>
                <li>measure the circumference of your head at the widest part and enter that into the appropriate box</li>
                <li>hit "calculate"</li>
                <li>mark down the output on your copy of the <a href="http://www.ravelry.com/designers/becky-lee" target="_blank">Wesley Crusher Sweaters for All</a> and get knitting!</li>
            </ol>
        </p>

        </div>


        <div style="width:15%;display:inline-block;vertical-align:text-top;padding:1.2%">
        <p>INPUT</p>
        <form id="inputForm" action="form_action.asp">
            <p>width of ten stitches: <input type="number" name="inputGW"></p>
            <p>length of ten rows: <input type="number" name="inputGL"></p>
            <p>width of sweater body: <input type="number" name="inputBW"></p>
            <p>length of sweater body: <input type="number" name="inputBL"></p>
            <p>width of sweater sleeve: <input type="number" name="inputSW"></p>
            <p>circumference of head: <input type="number" name="inputHead"></p>
        </form>
        
        <button onclick="myFunction()">calculate</button>

        <script>
        
        input = document.getElementById("inputForm");
        input.addEventListener("mousewheel", function(evt){ evt.preventDefault(); });
        function myFunction() {
            var x = document.getElementById("inputForm");
            var inputGW = x.elements[0].value;
            var inputGL = x.elements[1].value;
            var inputBW = x.elements[2].value;
            var inputBL = x.elements[3].value;
            var inputSW = x.elements[4].value;
            var inputHead = x.elements[5].value;
            var bodyWidth = Math.round((inputBW / inputGW * 10));
            var bodyLength = Math.round(inputBL / inputGL * 10);
            var sleeveCirc = Math.round(inputSW / inputGW * 20); //times 20 to turn width into circumference
            var collarCirc = Math.round((inputHead * 0.75) / inputGW * 10);
            var raglanEnd = bodyWidth*2 + sleeveCirc*2; //this will always be even
            collarCirc += ((raglanEnd - collarCirc) % 8); //mightly slightly counteract the negative ease, but whatever
            var totalIncrease = raglanEnd - collarCirc;
            var eachIncrease = totalIncrease / 4;
            var sleeveStart = sleeveCirc - eachIncrease;
            var bodyStart = bodyWidth - eachIncrease;
            var collarRows = Math.round(15/inputGL); //makes collar roll 1.5 inches
            collarRows -= (collarRows % 2); //makes sure it's even so that
            collarRows += 1; //we can then make it odd
            var increaseSetup = (collarRows + 1);
            var increaseStart = increaseSetup + 1;
            var increaseEnd = increaseSetup + eachIncrease; //double check this; should end evenly
            var bodyBottom = bodyLength - eachIncrease - collarRows; //collarRows here stands in for number of ribbing rows
            var bodyStitches = bodyWidth - 6; // half of the total body stitches
            var colorRows = Math.round(eachIncrease / 9);
            var grayRows = (eachIncrease - (colorRows * 3))/2;
            
            
            document.getElementById("outputA").innerHTML = collarCirc; //cast on
            document.getElementById("outputB").innerHTML = collarRows; //collar rows (1.5" or so), must be odd
            document.getElementById("outputC").innerHTML = increaseSetup; //increase setup, must be even
            document.getElementById("outputD").innerHTML = sleeveStart; //sleeve start
            document.getElementById("outputE").innerHTML = bodyStart; //body start (half of entire body)
            document.getElementById("outputF").innerHTML = increaseStart; //first increase row (odd)
            document.getElementById("outputG").innerHTML = increaseEnd; //last increase row (even)
            document.getElementById("outputH").innerHTML = grayRows; //number of dark gray rows in raglan section
            document.getElementById("outputI").innerHTML = colorRows; //number of each of the three colors and light gray
            document.getElementById("outputJ").innerHTML = raglanEnd; //total after raglan increases
            document.getElementById("outputK").innerHTML = sleeveCirc; //sleeve raglan end
            document.getElementById("outputL").innerHTML = bodyWidth; //body raglan end half
            document.getElementById("outputM").innerHTML = bodyBottom; //body length after subtracting raglan increases
        }
        </script>
        </div>
        
        <div style="width:15%;display:inline-block;text-align:center;vertical-align:text-top;padding:1.2%">
        <p>OUTPUT</p>
        <table>
            <tr>
                <td>A</td>
                <td id="outputA"></td>
            </tr>
            <tr>
                <td>B</td>
                <td id="outputB"></td>
            </tr>
            <tr>
                <td>C</td>
                <td id="outputC"></td>
            </tr>
            <tr>
                <td>D</td>
                <td id="outputD"></td>
            </tr>
            <tr>
                <td>E</td>
                <td id="outputE"></td>
            </tr>
            <tr>
                <td>F</td>
                <td id="outputF"></td>
            </tr>
            <tr>
                <td>G</td>
                <td id="outputG"></td>
            </tr>
            <tr>
                <td>H</td>
                <td id="outputH"></td>
            </tr>
            <tr>
                <td>I</td>
                <td id="outputI"></td>
            </tr>
            <tr>
                <td>J</td>
                <td id="outputJ"></td>
            </tr>
            <tr>
                <td>K</td>
                <td id="outputK"></td>
            </tr>
            <tr>
                <td>L</td>
                <td id="outputL"></td>
            </tr>
            <tr>
                <td>M</td>
                <td id="outputM"></td>
            </tr>
        </table>
        </div>


    <link rel="stylesheet" type="text/css" href="patternstylesheet.css" />
    <link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/themes/smoothness/jquery-ui.css" />
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jquerymobile/1.4.3/jquery.mobile.min.css" />
    <script src="//ajax.googleapis.com/ajax/libs/jquerymobile/1.4.3/jquery.mobile.min.js"></script>
    <script type='text/javascript' src='everypossiblesock.js'></script>
    <script src="http://hammerjs.github.io/dist/hammer.min.js"></script>

        
    </body>
</html>
